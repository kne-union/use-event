{"version":3,"file":"index.cjs","sources":["src/index.js"],"sourcesContent":["import { useRef, useMemo } from 'react';\r\nimport fbemitter from 'fbemitter';\r\n\r\nconst { EventEmitter } = fbemitter;\r\n\r\nclass FormEventEmitter extends EventEmitter {\r\n  constructor(options) {\r\n    super();\r\n    const { debug, name = 'event' } = Object.assign({}, options);\r\n    this.debug = debug;\r\n    this.name = name;\r\n  }\r\n\r\n  emit(...args) {\r\n    if (this.debug) {\r\n      console.log(`[${this.name}][debug]:`, ...args);\r\n    }\r\n    super.emit(...args);\r\n  }\r\n}\r\n\r\nconst useEvent = options => {\r\n  const debugRef = useRef(options);\r\n  return useMemo(() => {\r\n    const emitter = new FormEventEmitter(debugRef.current);\r\n    return {\r\n      addListener: (...args) => emitter.addListener(...args),\r\n      emit: (...args) => emitter.emit(...args),\r\n      removeAllListeners: (...args) => emitter.removeAllListeners(...args),\r\n      listeners: (...args) => emitter.listeners(...args),\r\n      once: (...args) => emitter.once(...args)\r\n    };\r\n  }, []);\r\n};\r\n\r\nexport default useEvent;\r\n"],"names":["EventEmitter","fbemitter","FormEventEmitter","_EventEmitter","_inheritsLoose","options","_this","call","_Object$assign","Object","assign","debug","_Object$assign$name","name","_proto","prototype","emit","_EventEmitter$prototy","args","slice","arguments","_console","console","log","apply","concat","useEvent","debugRef","useRef","useMemo","emitter","current","addListener","removeAllListeners","listeners","once"],"mappings":";;;;;;;;;;;;;;;;;;;;AAGA,IAAQA,YAAY,GAAKC,6BAAS,CAA1BD,YAAY,CAAA;AAAe,IAE7BE,gBAAgB,0BAAAC,aAAA,EAAA;EAAAC,cAAA,CAAAF,gBAAA,EAAAC,aAAA,CAAA,CAAA;EACpB,SAAAD,gBAAAA,CAAYG,OAAO,EAAE;AAAA,IAAA,IAAAC,KAAA,CAAA;AACnBA,IAAAA,KAAA,GAAAH,aAAA,CAAAI,IAAA,KAAM,CAAC,IAAA,IAAA,CAAA;IACP,IAAAC,cAAA,GAAkCC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEL,OAAO,CAAC;MAApDM,KAAK,GAAAH,cAAA,CAALG,KAAK;MAAAC,mBAAA,GAAAJ,cAAA,CAAEK,IAAI;AAAJA,MAAAA,IAAI,GAAAD,mBAAA,KAAG,KAAA,CAAA,GAAA,OAAO,GAAAA,mBAAA,CAAA;IAC7BN,KAAA,CAAKK,KAAK,GAAGA,KAAK,CAAA;IAClBL,KAAA,CAAKO,IAAI,GAAGA,IAAI,CAAA;AAAC,IAAA,OAAAP,KAAA,CAAA;AACnB,GAAA;AAAC,EAAA,IAAAQ,MAAA,GAAAZ,gBAAA,CAAAa,SAAA,CAAA;AAAAD,EAAAA,MAAA,CAEDE,IAAI,GAAJ,SAAAA,OAAc;AAAA,IAAA,IAAAC,qBAAA,CAAA;AAAA,IAAA,IAANC,IAAI,GAAAC,EAAAA,CAAAA,KAAA,CAAAZ,IAAA,CAAAa,SAAA,CAAA,CAAA;IACV,IAAI,IAAI,CAACT,KAAK,EAAE;AAAA,MAAA,IAAAU,QAAA,CAAA;AACd,MAAA,CAAAA,QAAA,GAAAC,OAAO,EAACC,GAAG,CAAAC,KAAA,CAAAH,QAAA,EAAA,CAAA,GAAA,GAAK,IAAI,CAACR,IAAI,gBAAAY,MAAA,CAAgBP,IAAI,CAAC,CAAA,CAAA;AAChD,KAAA;AACA,IAAA,CAAAD,qBAAA,GAAAd,aAAA,CAAAY,SAAA,CAAMC,IAAI,EAAAT,IAAA,CAAAiB,KAAA,CAAAP,qBAAA,EAAAQ,CAAAA,IAAAA,CAAAA,CAAAA,MAAA,CAAIP,IAAI,CAAA,CAAA,CAAA;GACnB,CAAA;AAAA,EAAA,OAAAhB,gBAAA,CAAA;AAAA,CAAA,CAb4BF,YAAY,CAAA,CAAA;AAgB3C,IAAM0B,QAAQ,GAAG,SAAXA,QAAQA,CAAGrB,OAAO,EAAI;AAC1B,EAAA,IAAMsB,QAAQ,GAAGC,YAAM,CAACvB,OAAO,CAAC,CAAA;EAChC,OAAOwB,aAAO,CAAC,YAAM;IACnB,IAAMC,OAAO,GAAG,IAAI5B,gBAAgB,CAACyB,QAAQ,CAACI,OAAO,CAAC,CAAA;IACtD,OAAO;MACLC,WAAW,EAAE,SAAAA,WAAA,GAAA;AAAA,QAAA,OAAaF,OAAO,CAACE,WAAW,CAAAR,KAAA,CAAnBM,OAAO,EAAAX,EAAAA,CAAAA,KAAA,CAAAZ,IAAA,CAAAa,SAAA,CAAoB,CAAC,CAAA;AAAA,OAAA;MACtDJ,IAAI,EAAE,SAAAA,IAAA,GAAA;AAAA,QAAA,OAAac,OAAO,CAACd,IAAI,CAAAQ,KAAA,CAAZM,OAAO,EAAAX,EAAAA,CAAAA,KAAA,CAAAZ,IAAA,CAAAa,SAAA,CAAa,CAAC,CAAA;AAAA,OAAA;MACxCa,kBAAkB,EAAE,SAAAA,kBAAA,GAAA;AAAA,QAAA,OAAaH,OAAO,CAACG,kBAAkB,CAAAT,KAAA,CAA1BM,OAAO,EAAAX,EAAAA,CAAAA,KAAA,CAAAZ,IAAA,CAAAa,SAAA,CAA2B,CAAC,CAAA;AAAA,OAAA;MACpEc,SAAS,EAAE,SAAAA,SAAA,GAAA;AAAA,QAAA,OAAaJ,OAAO,CAACI,SAAS,CAAAV,KAAA,CAAjBM,OAAO,EAAAX,EAAAA,CAAAA,KAAA,CAAAZ,IAAA,CAAAa,SAAA,CAAkB,CAAC,CAAA;AAAA,OAAA;MAClDe,IAAI,EAAE,SAAAA,IAAA,GAAA;AAAA,QAAA,OAAaL,OAAO,CAACK,IAAI,CAAAX,KAAA,CAAZM,OAAO,EAAAX,EAAAA,CAAAA,KAAA,CAAAZ,IAAA,CAAAa,SAAA,CAAa,CAAC,CAAA;AAAA,OAAA;KACzC,CAAA;GACF,EAAE,EAAE,CAAC,CAAA;AACR;;;;"}